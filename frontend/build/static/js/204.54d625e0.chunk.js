"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[204],{3863:(e,a,n)=>{n.d(a,{A:()=>i});n(9950);var t=n(39886),s=n(44414);function i(e){return(0,s.jsx)(t.A,{variant:"h5",color:"primary",gutterBottom:!0,children:e.children})}},5386:(e,a,n)=>{n.d(a,{A:()=>m});var t=n(80045),s=n(58168),i=n(9950),l=n(2803),r=n(64620),c=n(52521),o=n(37751),d=n(96287),g=n(49739),p=i.forwardRef(function(e,a){var n,r,o=e.align,p=void 0===o?"inherit":o,m=e.classes,h=e.className,A=e.component,v=e.padding,x=e.scope,u=e.size,f=e.sortDirection,j=e.variant,y=(0,t.A)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),R=i.useContext(d.A),b=i.useContext(g.A),C=b&&"head"===b.variant;A?(r=A,n=C?"columnheader":"cell"):r=C?"th":"td";var k=x;!k&&C&&(k="col");var I=v||(R&&R.padding?R.padding:"normal"),N=u||(R&&R.size?R.size:"medium"),w=j||b&&b.variant,z=null;return f&&(z="asc"===f?"ascending":"descending"),i.createElement(r,(0,s.A)({ref:a,className:(0,l.A)(m.root,m[w],h,"inherit"!==p&&m["align".concat((0,c.A)(p))],"normal"!==I&&m["padding".concat((0,c.A)(I))],"medium"!==N&&m["size".concat((0,c.A)(N))],"head"===w&&R&&R.stickyHeader&&m.stickyHeader),"aria-sort":z,role:n,scope:k},y))});const m=(0,r.A)(function(e){return{root:(0,s.A)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?(0,o.a)((0,o.X4)(e.palette.divider,1),.88):(0,o.e$)((0,o.X4)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}},{name:"MuiTableCell"})(p)},33043:(e,a,n)=>{var t=n(24994),s=n(6305);a.A=void 0;var i=s(n(9950)),l=(0,t(n(53209)).default)(i.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");a.A=l},37874:(e,a,n)=>{n.d(a,{A:()=>p});var t=n(58168),s=n(80045),i=n(9950),l=n(2803),r=n(64620),c=n(49739),o={variant:"head"},d="thead",g=i.forwardRef(function(e,a){var n=e.classes,r=e.className,g=e.component,p=void 0===g?d:g,m=(0,s.A)(e,["classes","className","component"]);return i.createElement(c.A.Provider,{value:o},i.createElement(p,(0,t.A)({className:(0,l.A)(n.root,r),ref:a,role:p===d?null:"rowgroup"},m)))});const p=(0,r.A)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(g)},38847:(e,a,n)=>{n.d(a,{A:()=>l});n(9950);var t=n(69994),s=n(44414);const i=(0,t.A)(e=>({contactsHeader:{display:"flex",alignItems:"center",padding:"0px 6px 6px 6px"}})),l=e=>{let{children:a}=e;const n=i();return(0,s.jsx)("div",{className:n.contactsHeader,children:a})}},40204:(e,a,n)=>{n.r(a),n.d(a,{default:()=>S});var t=n(89379),s=n(9950),i=n(69994),l=n(77882),r=n(85923),c=n(86505),o=n(38847),d=n(3863),g=n(33043),p=n(45530),m=n(33906),h=n(32988),A=n(93363),v=n(39886),x=n(12630),u=n(57513),f=n(7692),j=n(39884),y=n(52816),R=n(32018),b=n(49986),C=n(37874),k=n(92560),I=n(5386),N=n(80158),w=n(97226),z=n(60995),H=n(44414);const E=(0,i.A)(e=>({mainPaper:(0,t.A)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),textRight:{textAlign:"right"},tabPanelsContainer:{padding:e.spacing(2)}})),M={messageInterval:20,longerIntervalAfter:20,greaterInterval:60,variables:[]},S=()=>{const e=E(),[a,n]=(0,s.useState)(M),[i,S]=(0,s.useState)(!1),[T,W]=(0,s.useState)(!1),[P,D]=(0,s.useState)(null),[O,$]=(0,s.useState)({key:"",value:""});(0,s.useEffect)(()=>{p.A.get("/campaign-settings").then(e=>{let{data:a}=e;const t=[];Array.isArray(a)&&a.length>0&&(a.forEach(e=>{t.push([e.key,JSON.parse(e.value)])}),n(Object.fromEntries(t)))})},[]);const V=e=>{if(null!==e.target.value){const a={};a[e.target.name]=e.target.value,$(e=>(0,t.A)((0,t.A)({},e),a))}},B=e=>{const a={};a[e.target.name]=e.target.value,n(e=>(0,t.A)((0,t.A)({},e),a))};return(0,H.jsxs)(c.A,{children:[(0,H.jsx)(z.A,{title:m.R.t("campaigns.confirmationModal.deleteTitle"),open:T,onClose:()=>W(!1),onConfirm:()=>{const e=a.variables.filter(e=>e.key!==P);n(a=>(0,t.A)((0,t.A)({},a),{},{variables:e})),D(null)},children:m.R.t("campaigns.confirmationModal.deleteMessage")}),(0,H.jsx)(o.A,{children:(0,H.jsx)(h.A,{style:{width:"99.6%"},container:!0,children:(0,H.jsx)(h.A,{xs:12,item:!0,children:(0,H.jsx)(d.A,{children:m.R.t("campaignsConfig.title")})})})}),(0,H.jsx)(l.A,{className:e.mainPaper,variant:"outlined",children:(0,H.jsx)(A.A,{className:e.tabPanelsContainer,children:(0,H.jsxs)(h.A,{spacing:2,container:!0,children:[(0,H.jsx)(h.A,{xs:12,item:!0,children:(0,H.jsx)(v.A,{component:"h3",children:m.R.t("campaigns.config.interval")})}),(0,H.jsx)(h.A,{xs:12,md:4,item:!0,children:(0,H.jsxs)(x.A,{variant:"outlined",className:e.formControl,fullWidth:!0,children:[(0,H.jsx)(u.A,{id:"messageInterval-label",children:m.R.t("campaigns.config.randomInterval")}),(0,H.jsxs)(f.A,{name:"messageInterval",id:"messageInterval",labelId:"messageInterval-label",label:m.R.t("campaigns.config.randomInterval"),value:a.messageInterval,onChange:e=>B(e),children:[(0,H.jsx)(j.A,{value:0,children:m.R.t("campaigns.config.noInterval")}),(0,H.jsxs)(j.A,{value:5,children:["5 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:10,children:["10 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:15,children:["15 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:20,children:["20 ",m.R.t("campaigns.config.seconds")]})]})]})}),(0,H.jsx)(h.A,{xs:12,md:4,item:!0,children:(0,H.jsxs)(x.A,{variant:"outlined",className:e.formControl,fullWidth:!0,children:[(0,H.jsx)(u.A,{id:"longerIntervalAfter-label",children:m.R.t("campaigns.config.biggerInterval")}),(0,H.jsxs)(f.A,{name:"longerIntervalAfter",id:"longerIntervalAfter",labelId:"longerIntervalAfter-label",label:m.R.t("campaigns.config.biggerInterval"),value:a.longerIntervalAfter,onChange:e=>B(e),children:[(0,H.jsx)(j.A,{value:0,children:m.R.t("campaigns.config.notDefined")}),(0,H.jsxs)(j.A,{value:1,children:["1 ",m.R.t("campaigns.config.second")]}),(0,H.jsxs)(j.A,{value:5,children:["5 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:10,children:["10 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:15,children:["15 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:20,children:["20 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:30,children:["30 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:40,children:["40 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:60,children:["60 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:80,children:["80 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:100,children:["100 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:120,children:["120 ",m.R.t("campaigns.config.seconds")]})]})]})}),(0,H.jsx)(h.A,{xs:12,md:4,item:!0,children:(0,H.jsxs)(x.A,{variant:"outlined",className:e.formControl,fullWidth:!0,children:[(0,H.jsx)(u.A,{id:"greaterInterval-label",children:m.R.t("campaigns.config.greaterInterval")}),(0,H.jsxs)(f.A,{name:"greaterInterval",id:"greaterInterval",labelId:"greaterInterval-label",label:m.R.t("campaigns.config.greaterInterval"),value:a.greaterInterval,onChange:e=>B(e),children:[(0,H.jsx)(j.A,{value:0,children:m.R.t("campaigns.config.noInterval")}),(0,H.jsxs)(j.A,{value:1,children:["1 ",m.R.t("campaigns.config.second")]}),(0,H.jsxs)(j.A,{value:5,children:["5 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:10,children:["10 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:15,children:["15 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:20,children:["20 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:30,children:["30 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:40,children:["40 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:60,children:["60 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:80,children:["80 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:100,children:["100 ",m.R.t("campaigns.config.seconds")]}),(0,H.jsxs)(j.A,{value:120,children:["120 ",m.R.t("campaigns.config.seconds")]})]})]})}),(0,H.jsxs)(h.A,{xs:12,className:e.textRight,item:!0,children:[(0,H.jsx)(y.A,{onClick:()=>S(!i),color:"primary",style:{marginRight:10},children:m.R.t("campaigns.config.addVariable")}),(0,H.jsx)(y.A,{onClick:async()=>{await p.A.post("/campaign-settings",{settings:a}),r.oR.success(m.R.t("campaigns.toasts.configSaved"))},color:"primary",variant:"contained",children:m.R.t("campaigns.config.save")})]}),i&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(h.A,{xs:12,md:6,item:!0,children:(0,H.jsx)(R.A,{label:m.R.t("campaigns.config.shortcut"),variant:"outlined",value:O.key,name:"key",onChange:V,fullWidth:!0})}),(0,H.jsx)(h.A,{xs:12,md:6,item:!0,children:(0,H.jsx)(R.A,{label:m.R.t("campaigns.config.content"),variant:"outlined",value:O.value,name:"value",onChange:V,fullWidth:!0})}),(0,H.jsxs)(h.A,{xs:12,className:e.textRight,item:!0,children:[(0,H.jsx)(y.A,{onClick:()=>S(!i),color:"primary",style:{marginRight:10},children:m.R.t("campaigns.config.close")}),(0,H.jsx)(y.A,{onClick:()=>{n(e=>{const n=a.variables.filter(e=>e.key===O.key),s=e.variables;return 0===n.length&&(s.push(Object.assign({},O)),$({key:"",value:""})),(0,t.A)((0,t.A)({},e),{},{variables:s})})},color:"primary",variant:"contained",children:m.R.t("campaigns.config.add")})]})]}),a.variables.length>0&&(0,H.jsx)(h.A,{xs:12,className:e.textRight,item:!0,children:(0,H.jsxs)(b.A,{size:"small",children:[(0,H.jsx)(C.A,{children:(0,H.jsxs)(k.A,{children:[(0,H.jsx)(I.A,{style:{width:"1%"}}),(0,H.jsx)(I.A,{children:m.R.t("campaigns.config.shortcut")}),(0,H.jsx)(I.A,{children:m.R.t("campaigns.config.content")})]})}),(0,H.jsx)(N.A,{children:Array.isArray(a.variables)&&a.variables.map((e,a)=>(0,H.jsxs)(k.A,{children:[(0,H.jsx)(I.A,{children:(0,H.jsx)(w.A,{size:"small",onClick:()=>{D(e.key),W(!0)},children:(0,H.jsx)(g.A,{})})}),(0,H.jsx)(I.A,{children:"{"+e.key+"}"}),(0,H.jsx)(I.A,{children:e.value})]},a))})]})})]})})})]})}},49739:(e,a,n)=>{n.d(a,{A:()=>t});const t=n(9950).createContext()},49986:(e,a,n)=>{n.d(a,{A:()=>g});var t=n(80045),s=n(58168),i=n(9950),l=n(2803),r=n(64620),c=n(96287),o="table",d=i.forwardRef(function(e,a){var n=e.classes,r=e.className,d=e.component,g=void 0===d?o:d,p=e.padding,m=void 0===p?"normal":p,h=e.size,A=void 0===h?"medium":h,v=e.stickyHeader,x=void 0!==v&&v,u=(0,t.A)(e,["classes","className","component","padding","size","stickyHeader"]),f=i.useMemo(function(){return{padding:m,size:A,stickyHeader:x}},[m,A,x]);return i.createElement(c.A.Provider,{value:f},i.createElement(g,(0,s.A)({role:g===o?null:"table",ref:a,className:(0,l.A)(n.root,r,x&&n.stickyHeader)},u)))});const g=(0,r.A)(function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,s.A)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}},{name:"MuiTable"})(d)},80158:(e,a,n)=>{n.d(a,{A:()=>p});var t=n(58168),s=n(80045),i=n(9950),l=n(2803),r=n(64620),c=n(49739),o={variant:"body"},d="tbody",g=i.forwardRef(function(e,a){var n=e.classes,r=e.className,g=e.component,p=void 0===g?d:g,m=(0,s.A)(e,["classes","className","component"]);return i.createElement(c.A.Provider,{value:o},i.createElement(p,(0,t.A)({className:(0,l.A)(n.root,r),ref:a,role:p===d?null:"rowgroup"},m)))});const p=(0,r.A)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(g)},86505:(e,a,n)=>{n.d(a,{A:()=>r});n(9950);var t=n(69994),s=n(54742),i=n(44414);const l=(0,t.A)(e=>({mainContainer:{flex:1,padding:e.spacing(2),height:"calc(100% - 48px)"},contentWrapper:{height:"100%",overflowY:"hidden",display:"flex",flexDirection:"column"}})),r=e=>{let{children:a}=e;const n=l();return(0,i.jsx)(s.A,{className:n.mainContainer,children:(0,i.jsx)("div",{className:n.contentWrapper,children:a})})}},92560:(e,a,n)=>{n.d(a,{A:()=>g});var t=n(58168),s=n(80045),i=n(9950),l=n(2803),r=n(64620),c=n(49739),o=n(37751),d=i.forwardRef(function(e,a){var n=e.classes,r=e.className,o=e.component,d=void 0===o?"tr":o,g=e.hover,p=void 0!==g&&g,m=e.selected,h=void 0!==m&&m,A=(0,s.A)(e,["classes","className","component","hover","selected"]),v=i.useContext(c.A);return i.createElement(d,(0,t.A)({ref:a,className:(0,l.A)(n.root,r,v&&{head:n.head,footer:n.footer}[v.variant],p&&n.hover,h&&n.selected),role:"tr"===d?null:"row"},A))});const g=(0,r.A)(function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:(0,o.X4)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}},{name:"MuiTableRow"})(d)},96287:(e,a,n)=>{n.d(a,{A:()=>t});const t=n(9950).createContext()}}]);
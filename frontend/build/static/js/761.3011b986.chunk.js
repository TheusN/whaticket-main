"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[761],{91761:(e,s,a)=>{a.r(s),a.d(s,{default:()=>P});var t=a(9950),n=a(16673),i=a(69994),l=a(77882),r=a(33906),m=a(32988),d=a(32018),c=a(52816),o=a(80892),x=a(39886),u=a(6443),h=a(77534),g=a(85923),b=a(26910),j=a(65774),A=a(44414);const p=(0,i.A)(e=>({mainPaper:{flex:1,padding:e.spacing(2),paddingBottom:100},mainHeader:{marginTop:e.spacing(1)},elementMargin:{padding:e.spacing(2)},formContainer:{maxWidth:500},textRight:{textAlign:"right"}})),P=()=>{const e=p(),s=(0,n.useHistory)(),[a]=(0,t.useState)({token:"",number:"",body:""}),[i]=(0,t.useState)({token:"",number:"",medias:""}),[P,R]=(0,t.useState)({}),{getPlanCompany:I}=(0,j.A)();(0,t.useEffect)(()=>{!async function(){const e=localStorage.getItem("companyId");(await I(void 0,e)).plan.useExternalApi||(g.oR.error("messagesAPI.toasts.unauthorized"),setTimeout(()=>{s.push("/")},1e3))}()},[]);return(0,A.jsxs)(l.A,{className:e.mainPaper,style:{marginLeft:"5px"},variant:"outlined",children:[(0,A.jsx)(x.A,{variant:"h5",children:r.R.t("messagesAPI.labels.doc")}),(0,A.jsx)(x.A,{variant:"h6",color:"primary",className:e.elementMargin,children:r.R.t("messagesAPI.labels.method")}),(0,A.jsx)(x.A,{component:"div",children:(0,A.jsxs)("ol",{children:[(0,A.jsx)("li",{children:r.R.t("messagesAPI.labels.textMessage")}),(0,A.jsx)("li",{children:r.R.t("messagesAPI.labels.mediaMessage")})]})}),(0,A.jsx)(x.A,{variant:"h6",color:"primary",className:e.elementMargin,children:r.R.t("messagesAPI.labels.instructions")}),(0,A.jsxs)(x.A,{className:e.elementMargin,component:"div",children:[(0,A.jsx)("b",{children:r.R.t("messagesAPI.labels.observations")}),(0,A.jsx)("br",{}),(0,A.jsxs)("ul",{children:[(0,A.jsxs)("li",{children:[r.R.t("messagesAPI.labels.before1")," ",(0,A.jsx)("br",{}),r.R.t("messagesAPI.labels.before2")]}),(0,A.jsxs)("li",{children:[r.R.t("messagesAPI.labels.numberDescription"),(0,A.jsxs)("ul",{children:[(0,A.jsx)("li",{children:r.R.t("messagesAPI.labels.countryCode")}),(0,A.jsx)("li",{children:"DDD"}),(0,A.jsx)("li",{children:r.R.t("messagesAPI.labels.number")})]})]})]})]}),(0,A.jsx)(x.A,{variant:"h6",color:"primary",className:e.elementMargin,children:r.R.t("messagesAPI.labels.textMessage2")}),(0,A.jsxs)(m.A,{container:!0,children:[(0,A.jsx)(m.A,{item:!0,xs:12,sm:6,children:(0,A.jsxs)(x.A,{className:e.elementMargin,component:"div",children:[(0,A.jsx)("p",{children:r.R.t("messagesAPI.labels.textMessageInstructions")}),(0,A.jsx)("b",{children:"Endpoint: "})," ","http://localhost:8080/api/messages/send"," ",(0,A.jsx)("br",{}),(0,A.jsxs)("b",{children:[r.R.t("messagesAPI.labels.method2"),": "]})," POST ",(0,A.jsx)("br",{}),(0,A.jsx)("b",{children:"Headers: "})," Authorization (Bearer token) ",r.R.t("messagesAPI.labels.e")," Content-Type (application/json) ",(0,A.jsx)("br",{}),(0,A.jsx)("b",{children:"Body: "})," ",'{ "number": "5599999999999", "body": "Sua mensagem" }']})}),(0,A.jsxs)(m.A,{item:!0,xs:12,sm:6,children:[(0,A.jsx)(x.A,{className:e.elementMargin,children:(0,A.jsx)("b",{children:r.R.t("messagesAPI.labels.tests")})}),(0,A.jsx)(u.l1,{initialValues:a,enableReinitialize:!0,onSubmit:(e,s)=>{setTimeout(async()=>{await(async e=>{const{number:s,body:a}=e,t={number:s,body:a};try{await b.A.request({url:"http://localhost:8080/api/messages/send",method:"POST",data:t,headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(e.token)}}),g.oR.success(r.R.t("messagesAPI.toasts.success"))}catch(n){(0,h.A)(n)}})(e),s.setSubmitting(!1),s.resetForm()},400)},className:e.elementMargin,children:s=>{let{isSubmitting:a}=s;return(0,A.jsx)(u.lV,{className:e.formContainer,children:(0,A.jsxs)(m.A,{container:!0,spacing:2,children:[(0,A.jsx)(m.A,{item:!0,xs:12,md:6,children:(0,A.jsx)(u.D0,{as:d.A,label:r.R.t("messagesAPI.textMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})}),(0,A.jsx)(m.A,{item:!0,xs:12,md:6,children:(0,A.jsx)(u.D0,{as:d.A,label:r.R.t("messagesAPI.textMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})}),(0,A.jsx)(m.A,{item:!0,xs:12,children:(0,A.jsx)(u.D0,{as:d.A,label:r.R.t("messagesAPI.textMessage.body"),name:"body",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})}),(0,A.jsx)(m.A,{item:!0,xs:12,className:e.textRight,children:(0,A.jsx)(c.A,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper,children:a?(0,A.jsx)(o.A,{size:24,className:e.buttonProgress}):r.R.t("messagesAPI.buttons.send")})})]})})}})]})]}),(0,A.jsx)(x.A,{variant:"h6",color:"primary",className:e.elementMargin,children:r.R.t("messagesAPI.labels.mediaMessage2")}),(0,A.jsxs)(m.A,{container:!0,children:[(0,A.jsx)(m.A,{item:!0,xs:12,sm:6,children:(0,A.jsxs)(x.A,{className:e.elementMargin,component:"div",children:[(0,A.jsx)("p",{children:r.R.t("messagesAPI.labels.textMessageInstructions")}),(0,A.jsx)("b",{children:"Endpoint: "})," ","http://localhost:8080/api/messages/send"," ",(0,A.jsx)("br",{}),(0,A.jsxs)("b",{children:[r.R.t("messagesAPI.labels.method2"),": "]})," POST ",(0,A.jsx)("br",{}),(0,A.jsx)("b",{children:"Headers: "})," Authorization (Bearer token) ",r.R.t("messagesAPI.labels.e")," Content-Type (multipart/form-data) ",(0,A.jsx)("br",{}),(0,A.jsx)("b",{children:"FormData: "})," ",(0,A.jsx)("br",{}),(0,A.jsxs)("ul",{children:[(0,A.jsxs)("li",{children:[(0,A.jsx)("b",{children:"number: "})," 5599999999999"]}),(0,A.jsxs)("li",{children:[(0,A.jsx)("b",{children:"medias: "})," arquivo"]})]})]})}),(0,A.jsxs)(m.A,{item:!0,xs:12,sm:6,children:[(0,A.jsx)(x.A,{className:e.elementMargin,children:(0,A.jsx)("b",{children:r.R.t("messagesAPI.labels.tests")})}),(0,A.jsx)(u.l1,{initialValues:i,enableReinitialize:!0,onSubmit:(e,s)=>{setTimeout(async()=>{await(async e=>{try{const s=P[0],a=new FormData;a.append("number",e.number),a.append("body",s.name),a.append("medias",s),await b.A.request({url:"http://localhost:8080/api/messages/send",method:"POST",data:a,headers:{"Content-type":"multipart/form-data",Authorization:"Bearer ".concat(e.token)}}),g.oR.success(r.R.t("messagesAPI.toasts.success"))}catch(s){(0,h.A)(s)}})(e),s.setSubmitting(!1),s.resetForm(),document.getElementById("medias").files=null,document.getElementById("medias").value=null},400)},className:e.elementMargin,children:s=>{let{isSubmitting:a}=s;return(0,A.jsx)(u.lV,{className:e.formContainer,children:(0,A.jsxs)(m.A,{container:!0,spacing:2,children:[(0,A.jsx)(m.A,{item:!0,xs:12,md:6,children:(0,A.jsx)(u.D0,{as:d.A,label:r.R.t("messagesAPI.mediaMessage.token"),name:"token",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})}),(0,A.jsx)(m.A,{item:!0,xs:12,md:6,children:(0,A.jsx)(u.D0,{as:d.A,label:r.R.t("messagesAPI.mediaMessage.number"),name:"number",autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,className:e.textField,required:!0})}),(0,A.jsx)(m.A,{item:!0,xs:12,children:(0,A.jsx)("input",{type:"file",name:"medias",id:"medias",required:!0,onChange:e=>R(e.target.files)})}),(0,A.jsx)(m.A,{item:!0,xs:12,className:e.textRight,children:(0,A.jsx)(c.A,{type:"submit",color:"primary",variant:"contained",className:e.btnWrapper,children:a?(0,A.jsx)(o.A,{size:24,className:e.buttonProgress}):r.R.t("messagesAPI.buttons.send")})})]})})}})]})]})]})}}}]);
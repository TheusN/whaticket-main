"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[405],{3863:(e,a,t)=>{t.d(a,{A:()=>i});t(9950);var n=t(39886),s=t(44414);function i(e){return(0,s.jsx)(n.A,{variant:"h5",color:"primary",gutterBottom:!0,children:e.children})}},18602:(e,a,t)=>{t.d(a,{A:()=>s});var n=t(45530);const s=()=>({findAll:async e=>{const{data:a}=await n.A.request({url:"/helps",method:"GET",params:e});return a},list:async e=>{const{data:a}=await n.A.request({url:"/helps/list",method:"GET",params:e});return a},save:async e=>{const{data:a}=await n.A.request({url:"/helps",method:"POST",data:e});return a},update:async e=>{const{data:a}=await n.A.request({url:"/helps/".concat(e.id),method:"PUT",data:e});return a},remove:async e=>{const{data:a}=await n.A.request({url:"/helps/".concat(e),method:"DELETE"});return a}})},38847:(e,a,t)=>{t.d(a,{A:()=>l});t(9950);var n=t(69994),s=t(44414);const i=(0,n.A)(e=>({contactsHeader:{display:"flex",alignItems:"center",padding:"0px 6px 6px 6px"}})),l=e=>{let{children:a}=e;const t=i();return(0,s.jsx)("div",{className:t.contactsHeader,children:a})}},53057:(e,a,t)=>{t.d(a,{A:()=>s});var n=t(45530);const s=()=>({save:async e=>{const{data:a}=await n.A.request({url:"/companies",method:"POST",data:e});return a},update:async e=>{const{data:a}=await n.A.request({url:"/companies/".concat(e.id),method:"PUT",data:e});return a},remove:async e=>{const{data:a}=await n.A.request({url:"/companies/".concat(e),method:"DELETE"});return a},list:async e=>{const{data:a}=await n.A.request({url:"/companies/list",method:"GET"});return a},find:async e=>{const{data:a}=await n.A.request({url:"/companies/".concat(e),method:"GET"});return a},finding:async e=>{const{data:a}=await n.A.request({url:"/companies/".concat(e),method:"GET"});return a},findAll:async e=>{const{data:a}=await n.A.request({url:"/companies",method:"GET"});return a},updateSchedules:async e=>{const{data:a}=await n.A.request({url:"/companies/".concat(e.id,"/schedules"),method:"PUT",data:e});return a}})},80405:(e,a,t)=>{t.r(a),t.d(a,{default:()=>$e});var n=t(89379),s=t(9950),i=t(86505),l=t(38847),r=t(3863),o=t(69994),c=t(77882),d=t(20763),m=t(96502),u=t(80045),h=t(44414);const p=["children","value","name"],g=e=>{let{children:a,value:t,name:s}=e,i=(0,u.A)(e,p);return t===s?(0,h.jsx)("div",(0,n.A)((0,n.A)({role:"tabpanel",id:"simple-tabpanel-".concat(s),"aria-labelledby":"simple-tab-".concat(s)},i),{},{children:(0,h.jsx)(h.Fragment,{children:a})})):null};var x=t(86281),A=t(32988),f=t(32018),j=t(12630),y=t(57513),b=t(7692),v=t(39884),R=t(49986),C=t(37874),w=t(92560),k=t(5386),S=t(80158),D=t(97226),N=t(6443),I=t(39456),T=t(60995),W=t(29470),E=t(85923),F=t(53057),L=t(65774),M=t(29714),B=t(46493),P=t(52816),q=t(18028),z=t(43510),Y=t(77766),V=t(96918),O=t(80892),G=t(33906),H=t(45530),K=t(77534),Q=t(11647);const U=(0,o.A)(e=>({chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}})),X=e=>{let{selectedQueueIds:a,companyId:t,onChange:n}=e;const i=U(),[l,r]=(0,s.useState)([]);(0,s.useEffect)(()=>{(async()=>{try{const{data:e}=await H.A.get("/queue",{params:{companyId:t}});r(e)}catch(e){(0,K.A)(e)}})()},[t]);return(0,h.jsx)("div",{style:{marginTop:6},children:(0,h.jsxs)(j.A,{fullWidth:!0,margin:"dense",variant:"outlined",children:[(0,h.jsx)(y.A,{children:G.R.t("queueSelect.inputLabel")}),(0,h.jsx)(b.A,{multiple:!0,labelWidth:60,value:a,onChange:e=>{n(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:e=>(0,h.jsx)("div",{className:i.chips,children:(null===e||void 0===e?void 0:e.length)>0&&e.map(e=>{const a=l.find(a=>a.id===e);return a?(0,h.jsx)(Q.A,{style:{backgroundColor:a.color},variant:"outlined",label:a.name,className:i.chip},e):null})}),children:l.map(e=>(0,h.jsx)(v.A,{value:e.id,children:e.name},e.id))})]})})};var $=t(18957),J=t(52776);const Z=(0,o.A)(e=>({root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:B.A[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}})),_=M.Ik().shape({name:M.Yj().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:M.Yj().min(5,"Too Short!").max(50,"Too Long!"),email:M.Yj().email("Invalid email").required("Required")}),ee=e=>{let{open:a,onClose:t,userId:i,companyId:l}=e;const r=Z(),o={name:"",email:"",password:"",profile:"user"},{user:c}=(0,s.useContext)($.c),[d,m]=(0,s.useState)(o),[u,p]=(0,s.useState)([]);(0,s.useEffect)(()=>{(async()=>{if(i&&a)try{var e;const{data:a}=await H.A.get("/users/".concat(i));m(e=>(0,n.A)((0,n.A)({},e),a));const t=null===(e=a.queues)||void 0===e?void 0:e.map(e=>e.id);p(t)}catch(t){(0,K.A)(t)}})()},[i,a]);const g=()=>{t(),m(o)};return(0,h.jsx)("div",{className:r.root,children:(0,h.jsxs)(q.A,{open:a,onClose:g,maxWidth:"xs",fullWidth:!0,scroll:"paper",children:[(0,h.jsx)(V.A,{id:"form-dialog-title",children:"".concat(i?G.R.t("userModal.title.edit"):G.R.t("userModal.title.add"))}),(0,h.jsx)(N.l1,{initialValues:d,enableReinitialize:!0,validationSchema:_,onSubmit:(e,a)=>{setTimeout(()=>{(async e=>{const a=(0,n.A)((0,n.A)({},e),{},{companyId:l,queueIds:u});try{i?await H.A.put("/users/".concat(i),a):await H.A.post("/users",a),E.oR.success(G.R.t("userModal.success"))}catch(t){(0,K.A)(t)}g()})(e),a.setSubmitting(!1)},400)},children:e=>{let{touched:a,errors:t,isSubmitting:n}=e;return(0,h.jsxs)(N.lV,{children:[(0,h.jsxs)(Y.A,{dividers:!0,children:[(0,h.jsxs)("div",{className:r.multFieldLine,children:[(0,h.jsx)(N.D0,{as:f.A,label:G.R.t("userModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(t.name),helperText:a.name&&t.name,variant:"outlined",margin:"dense",fullWidth:!0}),(0,h.jsx)(N.D0,{as:f.A,label:G.R.t("userModal.form.password"),type:"password",name:"password",error:a.password&&Boolean(t.password),helperText:a.password&&t.password,variant:"outlined",margin:"dense",fullWidth:!0})]}),(0,h.jsxs)("div",{className:r.multFieldLine,children:[(0,h.jsx)(N.D0,{as:f.A,label:G.R.t("userModal.form.email"),name:"email",error:a.email&&Boolean(t.email),helperText:a.email&&t.email,variant:"outlined",margin:"dense",fullWidth:!0}),(0,h.jsx)(j.A,{variant:"outlined",className:r.formControl,margin:"dense",children:(0,h.jsx)(J.T,{role:c.profile,perform:"user-modal:editProfile",yes:()=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(y.A,{id:"profile-selection-input-label",children:G.R.t("userModal.form.profile")}),(0,h.jsxs)(N.D0,{as:b.A,label:G.R.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0,children:[(0,h.jsx)(v.A,{value:"admin",children:"Admin"}),(0,h.jsx)(v.A,{value:"user",children:"User"})]})]})})})]}),(0,h.jsx)(J.T,{role:c.profile,perform:"user-modal:editQueues",yes:()=>(0,h.jsx)(X,{companyId:l,selectedQueueIds:u,onChange:e=>p(e)})})]}),(0,h.jsxs)(z.A,{children:[(0,h.jsx)(P.A,{onClick:g,color:"secondary",disabled:n,variant:"outlined",children:G.R.t("userModal.buttons.cancel")}),(0,h.jsxs)(P.A,{type:"submit",color:"primary",disabled:n,variant:"contained",className:r.btnWrapper,children:["".concat(i?G.R.t("userModal.buttons.okEdit"):G.R.t("userModal.buttons.okAdd")),n&&(0,h.jsx)(O.A,{size:24,className:r.buttonProgress})]})]})]})}})]})})};var ae=t(41397),te=t(77222),ne=t(59051),se=t.n(ne);const ie=(0,o.A)(e=>({root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:(0,n.A)({width:"100%",overflowX:"scroll"},e.scrollbarStyles),textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));function le(e){const{onSubmit:a,onDelete:t,onCancel:i,initialValue:l,loading:r}=e,o=ie(),[c,d]=(0,s.useState)([]),[m,u]=(0,s.useState)(!1),[p,g]=(0,s.useState)({}),[x,R]=(0,s.useState)((0,n.A)({name:"",email:"",phone:"",planId:"",status:!0,campaignsEnabled:!1,dueDate:"",recurrence:""},l)),{list:C}=(0,L.A)();(0,s.useEffect)(()=>{!async function(){const e=await C();d(e)}()},[]),(0,s.useEffect)(()=>{R(e=>(se()(l).isValid()&&(l.dueDate=se()(l.dueDate).format("YYYY-MM-DD")),(0,n.A)((0,n.A)({},e),l)))},[l]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ee,{userId:p.id,companyId:l.id,open:m,onClose:()=>{g({}),u(!1)}}),(0,h.jsx)(N.l1,{enableReinitialize:!0,className:o.fullWidth,initialValues:x,onSubmit:(e,t)=>{let{resetForm:s}=t;return setTimeout(()=>{(async e=>{""!==e.dueDate&&!1!==se()(e.dueDate).isValid()||(e.dueDate=null),a(e),R((0,n.A)((0,n.A)({},l),{},{dueDate:""}))})(e),s()},500)},children:(e,a)=>(0,h.jsx)(N.lV,{className:o.fullWidth,children:(0,h.jsxs)(A.A,{spacing:2,justifyContent:"flex-end",container:!0,children:[(0,h.jsx)(A.A,{xs:12,sm:6,md:4,item:!0,children:(0,h.jsx)(N.D0,{as:f.A,label:G.R.t("settings.company.form.name"),name:"name",variant:"outlined",className:o.fullWidth,margin:"dense"})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:2,item:!0,children:(0,h.jsx)(N.D0,{as:f.A,label:G.R.t("settings.company.form.email"),name:"email",variant:"outlined",className:o.fullWidth,margin:"dense",required:!0})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:2,item:!0,children:(0,h.jsx)(N.D0,{as:f.A,label:G.R.t("settings.company.form.phone"),name:"phone",variant:"outlined",className:o.fullWidth,margin:"dense"})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:2,item:!0,children:(0,h.jsxs)(j.A,{margin:"dense",variant:"outlined",fullWidth:!0,children:[(0,h.jsx)(y.A,{htmlFor:"plan-selection",children:G.R.t("settings.company.form.plan")}),(0,h.jsx)(N.D0,{as:b.A,id:"plan-selection",label:G.R.t("settings.company.form.plan"),labelId:"plan-selection-label",name:"planId",margin:"dense",required:!0,children:c.map((e,a)=>(0,h.jsx)(v.A,{value:e.id,children:e.name},a))})]})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:2,item:!0,children:(0,h.jsxs)(j.A,{margin:"dense",variant:"outlined",fullWidth:!0,children:[(0,h.jsx)(y.A,{htmlFor:"status-selection",children:G.R.t("settings.company.form.status")}),(0,h.jsxs)(N.D0,{as:b.A,id:"status-selection",label:G.R.t("settings.company.form.status"),labelId:"status-selection-label",name:"status",margin:"dense",children:[(0,h.jsx)(v.A,{value:!0,children:G.R.t("settings.company.form.yes")}),(0,h.jsx)(v.A,{value:!1,children:G.R.t("settings.company.form.no")})]})]})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:2,item:!0,children:(0,h.jsxs)(j.A,{margin:"dense",variant:"outlined",fullWidth:!0,children:[(0,h.jsx)(y.A,{htmlFor:"status-selection",children:G.R.t("settings.company.form.campanhas")}),(0,h.jsxs)(N.D0,{as:b.A,id:"campaigns-selection",label:G.R.t("settings.company.form.campanhas"),labelId:"campaigns-selection-label",name:"campaignsEnabled",margin:"dense",children:[(0,h.jsx)(v.A,{value:!0,children:G.R.t("settings.company.form.enabled")}),(0,h.jsx)(v.A,{value:!1,children:G.R.t("settings.company.form.disabled")})]})]})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:2,item:!0,children:(0,h.jsx)(j.A,{variant:"outlined",fullWidth:!0,children:(0,h.jsx)(N.D0,{as:f.A,label:G.R.t("settings.company.form.dueDate"),type:"date",name:"dueDate",InputLabelProps:{shrink:!0},variant:"outlined",fullWidth:!0,margin:"dense"})})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:2,item:!0,children:(0,h.jsxs)(j.A,{margin:"dense",variant:"outlined",fullWidth:!0,children:[(0,h.jsx)(y.A,{htmlFor:"recorrencia-selection",children:G.R.t("settings.company.form.recurrence")}),(0,h.jsx)(N.D0,{as:b.A,label:G.R.t("settings.company.form.recurrence"),labelId:"recorrencia-selection-label",id:"recurrence",name:"recurrence",margin:"dense",children:(0,h.jsx)(v.A,{value:"MENSAL",children:G.R.t("settings.company.form.monthly")})})]})}),(0,h.jsx)(A.A,{xs:12,item:!0,children:(0,h.jsxs)(A.A,{justifyContent:"flex-end",spacing:1,container:!0,children:[(0,h.jsx)(A.A,{xs:4,md:1,item:!0,children:(0,h.jsx)(I.A,{className:o.fullWidth,style:{marginTop:7},loading:r,onClick:()=>i(),variant:"contained",children:G.R.t("settings.company.buttons.clear")})}),void 0!==x.id?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(A.A,{xs:6,md:1,item:!0,children:(0,h.jsx)(I.A,{style:{marginTop:7},className:o.fullWidth,loading:r,onClick:()=>t(x),variant:"contained",color:"secondary",children:G.R.t("settings.company.buttons.delete")})}),(0,h.jsx)(A.A,{xs:6,md:2,item:!0,children:(0,h.jsx)(I.A,{style:{marginTop:7},className:o.fullWidth,loading:r,onClick:()=>(()=>{const e=(0,n.A)({},x);if(""!==e.dueDate&&null!==e.dueDate)switch(e.recurrence){case"MENSAL":e.dueDate=se()(e.dueDate).add(1,"month").format("YYYY-MM-DD");break;case"BIMESTRAL":e.dueDate=se()(e.dueDate).add(2,"month").format("YYYY-MM-DD");break;case"TRIMESTRAL":e.dueDate=se()(e.dueDate).add(3,"month").format("YYYY-MM-DD");break;case"SEMESTRAL":e.dueDate=se()(e.dueDate).add(6,"month").format("YYYY-MM-DD");break;case"ANUAL":e.dueDate=se()(e.dueDate).add(12,"month").format("YYYY-MM-DD")}R(e)})(),variant:"contained",color:"primary",children:G.R.t("settings.company.buttons.expire")})}),(0,h.jsx)(A.A,{xs:6,md:1,item:!0,children:(0,h.jsx)(I.A,{style:{marginTop:7},className:o.fullWidth,loading:r,onClick:()=>(async()=>{try{const{data:e}=await H.A.get("/users/list",{params:{companyId:l.id}});(0,ae.isArray)(e)&&e.length&&g((0,ae.head)(e)),u(!0)}catch(e){E.oR.error(e)}})(),variant:"contained",color:"primary",children:G.R.t("settings.company.buttons.user")})})]}):null,(0,h.jsx)(A.A,{xs:6,md:1,item:!0,children:(0,h.jsx)(I.A,{className:o.fullWidth,style:{marginTop:7},loading:r,type:"submit",variant:"contained",color:"primary",children:G.R.t("settings.company.buttons.save")})})]})})]})})})]})}function re(e){const{records:a,onSelect:t}=e,n=ie(),{dateToClient:s}=(0,te.S)(),i=e=>!1===e.status?"N\xe3o":"Sim",l=e=>null!==e.planId?e.plan.name:"-",r=e=>{if((0,ae.has)(e,"settings")&&(0,ae.isArray)(e.settings)&&e.settings.length>0){const a=e.settings.find(e=>"campaignsEnabled"===e.key);if(a)return"true"===a.value?G.R.t("settings.company.form.enabled"):G.R.t("settings.company.form.disabled")}return G.R.t("settings.company.form.disabled")},o=e=>{if(se()(e.dueDate).isValid()){const a=se()(),t=se()(e.dueDate).diff(a,"days");if(5===t)return{backgroundColor:"#fffead"};if(t>=-3&&t<=4)return{backgroundColor:"#f7cc8f"};if(-4===t)return{backgroundColor:"#fa8c8c"}}return{}};return(0,h.jsx)(c.A,{className:n.tableContainer,children:(0,h.jsxs)(R.A,{className:n.fullWidth,size:"small","aria-label":"a dense table",children:[(0,h.jsx)(C.A,{children:(0,h.jsxs)(w.A,{children:[(0,h.jsx)(k.A,{align:"center",style:{width:"1%"},children:"#"}),(0,h.jsx)(k.A,{align:"left",children:G.R.t("settings.company.form.name")}),(0,h.jsx)(k.A,{align:"left",children:G.R.t("settings.company.form.email")}),(0,h.jsx)(k.A,{align:"left",children:G.R.t("settings.company.form.phone")}),(0,h.jsx)(k.A,{align:"left",children:G.R.t("settings.company.form.plan")}),(0,h.jsx)(k.A,{align:"left",children:G.R.t("settings.company.form.campanhas")}),(0,h.jsx)(k.A,{align:"left",children:G.R.t("settings.company.form.status")}),(0,h.jsx)(k.A,{align:"left",children:G.R.t("settings.company.form.createdAt")}),(0,h.jsx)(k.A,{align:"left",children:G.R.t("settings.company.form.expire")})]})}),(0,h.jsx)(S.A,{children:a.map((e,a)=>(0,h.jsxs)(w.A,{style:o(e),children:[(0,h.jsx)(k.A,{align:"center",style:{width:"1%"},children:(0,h.jsx)(D.A,{onClick:()=>t(e),"aria-label":"delete",children:(0,h.jsx)(W.A,{})})}),(0,h.jsx)(k.A,{align:"left",children:e.name||"-"}),(0,h.jsx)(k.A,{align:"left",children:e.email||"-"}),(0,h.jsx)(k.A,{align:"left",children:e.phone||"-"}),(0,h.jsx)(k.A,{align:"left",children:l(e)}),(0,h.jsx)(k.A,{align:"left",children:r(e)}),(0,h.jsx)(k.A,{align:"left",children:i(e)}),(0,h.jsx)(k.A,{align:"left",children:s(e.createdAt)}),(0,h.jsxs)(k.A,{align:"left",children:[s(e.dueDate),(0,h.jsx)("br",{}),(0,h.jsx)("span",{children:e.recurrence})]})]},a))})]})})}function oe(){const e=ie(),{list:a,save:t,update:i,remove:l}=(0,F.A)(),[r,o]=(0,s.useState)(!1),[d,m]=(0,s.useState)(!1),[u,p]=(0,s.useState)([]),[g,x]=(0,s.useState)({name:"",email:"",phone:"",planId:"",status:!0,campaignsEnabled:!1,dueDate:"",recurrence:""});(0,s.useEffect)(()=>{f()},[]);const f=async()=>{m(!0);try{const e=await a();p(e)}catch(e){E.oR.error(G.R.t("settings.company.toasts.errorList"))}m(!1)},j=()=>{x(e=>(0,n.A)((0,n.A)({},e),{},{id:void 0,name:"",email:"",phone:"",planId:"",status:!0,campaignsEnabled:!1,dueDate:"",recurrence:""}))};return(0,h.jsxs)(c.A,{className:e.mainPaper,elevation:0,children:[(0,h.jsxs)(A.A,{spacing:2,container:!0,children:[(0,h.jsx)(A.A,{xs:12,item:!0,children:(0,h.jsx)(le,{initialValue:g,onDelete:()=>{o(!0)},onSubmit:async e=>{m(!0);try{0!==e.id&&void 0!==e.id?await i(e):await t(e),await f(),j(),E.oR.success(G.R.t("settings.company.toasts.success"))}catch(a){E.oR.error(G.R.t("settings.company.toasts.error"))}m(!1)},onCancel:j,loading:d})}),(0,h.jsx)(A.A,{xs:12,item:!0,children:(0,h.jsx)(re,{records:u,onSelect:e=>{let a=!1;const t=e.settings.find(e=>e.key.indexOf("campaignsEnabled")>-1);t&&(a="true"===t.value||"enabled"===t.value),x(t=>(0,n.A)((0,n.A)({},t),{},{id:e.id,name:e.name||"",phone:e.phone||"",email:e.email||"",planId:e.planId||"",status:!1!==e.status,campaignsEnabled:a,dueDate:e.dueDate||"",recurrence:e.recurrence||""}))}})})]}),(0,h.jsx)(T.A,{title:G.R.t("settings.company.confirmModal.title"),open:r,onClose:()=>o(!1),onConfirm:()=>(async()=>{m(!0);try{await l(g.id),await f(),j(),E.oR.success(G.R.t("settings.company.toasts.success"))}catch(e){E.oR.error(G.R.t("settings.company.toasts.errorOperation"))}m(!1)})(),children:G.R.t("settings.company.confirmModal.message")})]})}const ce=(0,o.A)(e=>({root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:(0,n.A)({width:"100%",overflowX:"scroll"},e.scrollbarStyles),textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));function de(e){const{onSubmit:a,onDelete:t,onCancel:n,initialValue:i,loading:l}=e,r=ce(),[o,c]=(0,s.useState)({name:"",users:0,connections:0,queues:0,value:0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0});(0,s.useEffect)(()=>{c(i)},[i]);return(0,h.jsx)(N.l1,{enableReinitialize:!0,className:r.fullWidth,initialValues:o,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{a(e)})(e),n()},500)},children:e=>(0,h.jsxs)(N.lV,{className:r.fullWidth,children:[(0,h.jsxs)(A.A,{spacing:1,justifyContent:"flex-start",container:!0,children:[(0,h.jsx)(A.A,{xs:12,sm:6,md:2,item:!0,children:(0,h.jsx)(N.D0,{as:f.A,label:G.R.t("plans.form.name"),name:"name",variant:"outlined",className:r.fullWidth,margin:"dense"})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:1,item:!0,children:(0,h.jsx)(N.D0,{as:f.A,label:G.R.t("plans.form.users"),name:"users",variant:"outlined",className:r.fullWidth,margin:"dense",type:"number"})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:1,item:!0,children:(0,h.jsx)(N.D0,{as:f.A,label:G.R.t("plans.form.connections"),name:"connections",variant:"outlined",className:r.fullWidth,margin:"dense",type:"number"})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:1,item:!0,children:(0,h.jsx)(N.D0,{as:f.A,label:G.R.t("plans.form.queues"),name:"queues",variant:"outlined",className:r.fullWidth,margin:"dense",type:"number"})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:1,item:!0,children:(0,h.jsx)(N.D0,{as:f.A,label:G.R.t("plans.form.value"),name:"value",variant:"outlined",className:r.fullWidth,margin:"dense",type:"text"})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:2,item:!0,children:(0,h.jsxs)(j.A,{margin:"dense",variant:"outlined",fullWidth:!0,children:[(0,h.jsx)(y.A,{htmlFor:"useCampaigns-selection",children:G.R.t("plans.form.campaigns")}),(0,h.jsxs)(N.D0,{as:b.A,id:"useCampaigns-selection",label:G.R.t("plans.form.campaigns"),labelId:"useCampaigns-selection-label",name:"useCampaigns",margin:"dense",children:[(0,h.jsx)(v.A,{value:!0,children:G.R.t("plans.form.enabled")}),(0,h.jsx)(v.A,{value:!1,children:G.R.t("plans.form.disabled")})]})]})}),(0,h.jsx)(A.A,{xs:12,sm:8,md:2,item:!0,children:(0,h.jsxs)(j.A,{margin:"dense",variant:"outlined",fullWidth:!0,children:[(0,h.jsx)(y.A,{htmlFor:"useSchedules-selection",children:G.R.t("plans.form.schedules")}),(0,h.jsxs)(N.D0,{as:b.A,id:"useSchedules-selection",label:G.R.t("plans.form.schedules"),labelId:"useSchedules-selection-label",name:"useSchedules",margin:"dense",children:[(0,h.jsx)(v.A,{value:!0,children:G.R.t("plans.form.enabled")}),(0,h.jsx)(v.A,{value:!1,children:G.R.t("plans.form.disabled")})]})]})}),(0,h.jsx)(A.A,{xs:12,sm:8,md:2,item:!0,children:(0,h.jsxs)(j.A,{margin:"dense",variant:"outlined",fullWidth:!0,children:[(0,h.jsx)(y.A,{htmlFor:"useInternalChat-selection",children:G.R.t("plans.form.internalChat")}),(0,h.jsxs)(N.D0,{as:b.A,id:"useInternalChat-selection",label:G.R.t("plans.form.internalChat"),labelId:"useInternalChat-selection-label",name:"useInternalChat",margin:"dense",children:[(0,h.jsx)(v.A,{value:!0,children:G.R.t("plans.form.enabled")}),(0,h.jsx)(v.A,{value:!1,children:G.R.t("plans.form.disabled")})]})]})}),(0,h.jsx)(A.A,{xs:12,sm:8,md:4,item:!0,children:(0,h.jsxs)(j.A,{margin:"dense",variant:"outlined",fullWidth:!0,children:[(0,h.jsx)(y.A,{htmlFor:"useExternalApi-selection",children:G.R.t("plans.form.externalApi")}),(0,h.jsxs)(N.D0,{as:b.A,id:"useExternalApi-selection",label:G.R.t("plans.form.externalApi"),labelId:"useExternalApi-selection-label",name:"useExternalApi",margin:"dense",children:[(0,h.jsx)(v.A,{value:!0,children:G.R.t("plans.form.enabled")}),(0,h.jsx)(v.A,{value:!1,children:G.R.t("plans.form.disabled")})]})]})}),(0,h.jsx)(A.A,{xs:12,sm:8,md:2,item:!0,children:(0,h.jsxs)(j.A,{margin:"dense",variant:"outlined",fullWidth:!0,children:[(0,h.jsx)(y.A,{htmlFor:"useKanban-selection",children:G.R.t("plans.form.kanban")}),(0,h.jsxs)(N.D0,{as:b.A,id:"useKanban-selection",label:G.R.t("plans.form.kanban"),labelId:"useKanban-selection-label",name:"useKanban",margin:"dense",children:[(0,h.jsx)(v.A,{value:!0,children:G.R.t("plans.form.enabled")}),(0,h.jsx)(v.A,{value:!1,children:G.R.t("plans.form.disabled")})]})]})}),(0,h.jsx)(A.A,{xs:12,sm:8,md:2,item:!0,children:(0,h.jsxs)(j.A,{margin:"dense",variant:"outlined",fullWidth:!0,children:[(0,h.jsx)(y.A,{htmlFor:"useOpenAi-selection",children:"Open.Ai"}),(0,h.jsxs)(N.D0,{as:b.A,id:"useOpenAi-selection",label:"Talk.Ai",labelId:"useOpenAi-selection-label",name:"useOpenAi",margin:"dense",children:[(0,h.jsx)(v.A,{value:!0,children:G.R.t("plans.form.enabled")}),(0,h.jsx)(v.A,{value:!1,children:G.R.t("plans.form.disabled")})]})]})}),(0,h.jsx)(A.A,{xs:12,sm:8,md:2,item:!0,children:(0,h.jsxs)(j.A,{margin:"dense",variant:"outlined",fullWidth:!0,children:[(0,h.jsx)(y.A,{htmlFor:"useIntegrations-selection",children:G.R.t("plans.form.integrations")}),(0,h.jsxs)(N.D0,{as:b.A,id:"useIntegrations-selection",label:G.R.t("plans.form.integrations"),labelId:"useIntegrations-selection-label",name:"useIntegrations",margin:"dense",children:[(0,h.jsx)(v.A,{value:!0,children:G.R.t("plans.form.enabled")}),(0,h.jsx)(v.A,{value:!1,children:G.R.t("plans.form.disabled")})]})]})})]}),(0,h.jsxs)(A.A,{spacing:2,justifyContent:"flex-end",container:!0,children:[(0,h.jsx)(A.A,{sm:3,md:2,item:!0,children:(0,h.jsx)(I.A,{className:r.fullWidth,loading:l,onClick:()=>n(),variant:"contained",children:G.R.t("plans.form.clear")})}),void 0!==o.id?(0,h.jsx)(A.A,{sm:3,md:2,item:!0,children:(0,h.jsx)(I.A,{className:r.fullWidth,loading:l,onClick:()=>t(o),variant:"contained",color:"secondary",children:G.R.t("plans.form.delete")})}):null,(0,h.jsx)(A.A,{sm:3,md:2,item:!0,children:(0,h.jsx)(I.A,{className:r.fullWidth,loading:l,type:"submit",variant:"contained",color:"primary",children:G.R.t("plans.form.save")})})]})]})})}function me(e){const{records:a,onSelect:t}=e,n=ce(),s=e=>!1===e.useCampaigns?"".concat(G.R.t("plans.form.no")):"".concat(G.R.t("plans.form.yes")),i=e=>!1===e.useSchedules?"".concat(G.R.t("plans.form.no")):"".concat(G.R.t("plans.form.yes")),l=e=>!1===e.useInternalChat?"".concat(G.R.t("plans.form.no")):"".concat(G.R.t("plans.form.yes")),r=e=>!1===e.useExternalApi?"".concat(G.R.t("plans.form.no")):"".concat(G.R.t("plans.form.yes")),o=e=>!1===e.useKanban?"".concat(G.R.t("plans.form.no")):"".concat(G.R.t("plans.form.yes")),d=e=>!1===e.useOpenAi?"".concat(G.R.t("plans.form.no")):"".concat(G.R.t("plans.form.yes")),m=e=>!1===e.useIntegrations?"".concat(G.R.t("plans.form.no")):"".concat(G.R.t("plans.form.yes"));return(0,h.jsx)(c.A,{className:n.tableContainer,children:(0,h.jsxs)(R.A,{className:n.fullWidth,padding:"none","aria-label":"a dense table",children:[(0,h.jsx)(C.A,{children:(0,h.jsxs)(w.A,{children:[(0,h.jsx)(k.A,{align:"center",style:{width:"1%"},children:"#"}),(0,h.jsx)(k.A,{align:"left",children:G.R.t("plans.form.name")}),(0,h.jsx)(k.A,{align:"center",children:G.R.t("plans.form.users")}),(0,h.jsx)(k.A,{align:"center",children:G.R.t("plans.form.connections")}),(0,h.jsx)(k.A,{align:"center",children:G.R.t("plans.form.queues")}),(0,h.jsx)(k.A,{align:"center",children:G.R.t("plans.form.value")}),(0,h.jsx)(k.A,{align:"center",children:G.R.t("plans.form.campaigns")}),(0,h.jsx)(k.A,{align:"center",children:G.R.t("plans.form.schedules")}),(0,h.jsx)(k.A,{align:"center",children:G.R.t("plans.form.internalChat")}),(0,h.jsx)(k.A,{align:"center",children:G.R.t("plans.form.externalApi")}),(0,h.jsx)(k.A,{align:"center",children:G.R.t("plans.form.kanban")}),(0,h.jsx)(k.A,{align:"center",children:"Open.Ai"}),(0,h.jsx)(k.A,{align:"center",children:G.R.t("plans.form.integrations")})]})}),(0,h.jsx)(S.A,{children:a.map(e=>(0,h.jsxs)(w.A,{children:[(0,h.jsx)(k.A,{align:"center",style:{width:"1%"},children:(0,h.jsx)(D.A,{onClick:()=>t(e),"aria-label":"delete",children:(0,h.jsx)(W.A,{})})}),(0,h.jsx)(k.A,{align:"left",children:e.name||"-"}),(0,h.jsx)(k.A,{align:"center",children:e.users||"-"}),(0,h.jsx)(k.A,{align:"center",children:e.connections||"-"}),(0,h.jsx)(k.A,{align:"center",children:e.queues||"-"}),(0,h.jsxs)(k.A,{align:"center",children:[G.R.t("plans.form.money")," ",e.value?e.value.toLocaleString("pt-br",{minimumFractionDigits:2}):"00.00"]}),(0,h.jsx)(k.A,{align:"center",children:s(e)}),(0,h.jsx)(k.A,{align:"center",children:i(e)}),(0,h.jsx)(k.A,{align:"center",children:l(e)}),(0,h.jsx)(k.A,{align:"center",children:r(e)}),(0,h.jsx)(k.A,{align:"center",children:o(e)}),(0,h.jsx)(k.A,{align:"center",children:d(e)}),(0,h.jsx)(k.A,{align:"center",children:m(e)})]},e.id))})]})})}function ue(){const e=ce(),{list:a,save:t,update:n,remove:i}=(0,L.A)(),[l,r]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1),[m,u]=(0,s.useState)([]),[p,g]=(0,s.useState)({name:"",users:0,connections:0,queues:0,value:0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0});(0,s.useEffect)(()=>{!async function(){await x()}()},[p]);const x=async()=>{d(!0);try{const e=await a();u(e)}catch(e){E.oR.error(G.R.t("plans.toasts.errorList"))}d(!1)},f=()=>{g({id:void 0,name:"",users:0,connections:0,queues:0,value:0,useCampaigns:!0,useSchedules:!0,useInternalChat:!0,useExternalApi:!0,useKanban:!0,useOpenAi:!0,useIntegrations:!0})};return(0,h.jsxs)(c.A,{className:e.mainPaper,elevation:0,children:[(0,h.jsxs)(A.A,{spacing:2,container:!0,children:[(0,h.jsx)(A.A,{xs:12,item:!0,children:(0,h.jsx)(de,{initialValue:p,onDelete:()=>{r(!0)},onSubmit:async e=>{d(!0),console.log(e);try{void 0!==e.id?await n(e):await t(e),await x(),f(),E.oR.success(G.R.t("plans.toasts.success"))}catch(a){E.oR.error(G.R.t("plans.toasts.error"))}d(!1)},onCancel:f,loading:o})}),(0,h.jsx)(A.A,{xs:12,item:!0,children:(0,h.jsx)(me,{records:m,onSelect:e=>{var a;let t=!1!==e.useCampaigns,n=!1!==e.useSchedules,s=!1!==e.useInternalChat,i=!1!==e.useExternalApi,l=!1!==e.useKanban,r=!1!==e.useOpenAi,o=!1!==e.useIntegrations;g({id:e.id,name:e.name||"",users:e.users||0,connections:e.connections||0,queues:e.queues||0,value:(null===(a=e.value)||void 0===a?void 0:a.toLocaleString("pt-br",{minimumFractionDigits:0}))||0,useCampaigns:t,useSchedules:n,useInternalChat:s,useExternalApi:i,useKanban:l,useOpenAi:r,useIntegrations:o})}})})]}),(0,h.jsx)(T.A,{title:G.R.t("plans.confirm.title"),open:l,onClose:()=>r(!1),onConfirm:()=>(async()=>{d(!0);try{await i(p.id),await x(),f(),E.oR.success(G.R.t("plans.toasts.success"))}catch(e){E.oR.error(G.R.t("plans.toasts.errorOperation"))}d(!1)})(),children:G.R.t("plans.confirm.message")})]})}var he=t(18602);const pe=(0,o.A)(e=>({root:{width:"100%"},mainPaper:{width:"100%",flex:1,padding:e.spacing(2)},fullWidth:{width:"100%"},tableContainer:(0,n.A)({width:"100%",overflowX:"scroll"},e.scrollbarStyles),textfield:{width:"100%"},textRight:{textAlign:"right"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));function ge(e){const{onSubmit:a,onDelete:t,onCancel:n,initialValue:i,loading:l}=e,r=pe(),[o,c]=(0,s.useState)(i);(0,s.useEffect)(()=>{c(i)},[i]);return(0,h.jsx)(N.l1,{enableReinitialize:!0,className:r.fullWidth,initialValues:o,onSubmit:(e,t)=>{let{resetForm:n}=t;return setTimeout(()=>{(async e=>{a(e)})(e),n()},500)},children:e=>(0,h.jsx)(N.lV,{className:r.fullWidth,children:(0,h.jsxs)(A.A,{spacing:2,justifyContent:"flex-end",container:!0,children:[(0,h.jsx)(A.A,{xs:12,sm:6,md:3,item:!0,children:(0,h.jsx)(N.D0,{as:f.A,label:"T\xedtulo",name:"title",variant:"outlined",className:r.fullWidth,margin:"dense"})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:3,item:!0,children:(0,h.jsx)(N.D0,{as:f.A,label:"C\xf3digo do V\xeddeo",name:"video",variant:"outlined",className:r.fullWidth,margin:"dense"})}),(0,h.jsx)(A.A,{xs:12,sm:12,md:6,item:!0,children:(0,h.jsx)(N.D0,{as:f.A,label:"Descri\xe7\xe3o",name:"description",variant:"outlined",className:r.fullWidth,margin:"dense"})}),(0,h.jsx)(A.A,{sm:3,md:1,item:!0,children:(0,h.jsx)(I.A,{className:r.fullWidth,loading:l,onClick:()=>n(),variant:"contained",children:G.R.t("settings.helps.buttons.clean")})}),void 0!==o.id?(0,h.jsx)(A.A,{sm:3,md:1,item:!0,children:(0,h.jsx)(I.A,{className:r.fullWidth,loading:l,onClick:()=>t(o),variant:"contained",color:"secondary",children:G.R.t("settings.helps.buttons.delete")})}):null,(0,h.jsx)(A.A,{sm:3,md:1,item:!0,children:(0,h.jsx)(I.A,{className:r.fullWidth,loading:l,type:"submit",variant:"contained",color:"primary",children:G.R.t("settings.helps.buttons.save")})})]})})})}function xe(e){const{records:a,onSelect:t}=e,n=pe();return(0,h.jsx)(c.A,{className:n.tableContainer,children:(0,h.jsxs)(R.A,{className:n.fullWidth,size:"small","aria-label":"a dense table",children:[(0,h.jsx)(C.A,{children:(0,h.jsxs)(w.A,{children:[(0,h.jsx)(k.A,{align:"center",style:{width:"1%"},children:"#"}),(0,h.jsx)(k.A,{align:"left",children:G.R.t("settings.helps.grid.title")}),(0,h.jsx)(k.A,{align:"left",children:G.R.t("settings.helps.grid.description")}),(0,h.jsx)(k.A,{align:"left",children:G.R.t("settings.helps.grid.video")})]})}),(0,h.jsx)(S.A,{children:a.map(e=>(0,h.jsxs)(w.A,{children:[(0,h.jsx)(k.A,{align:"center",style:{width:"1%"},children:(0,h.jsx)(D.A,{onClick:()=>t(e),"aria-label":"delete",children:(0,h.jsx)(W.A,{})})}),(0,h.jsx)(k.A,{align:"left",children:e.title||"-"}),(0,h.jsx)(k.A,{align:"left",children:e.description||"-"}),(0,h.jsx)(k.A,{align:"left",children:e.video||"-"})]},e.id))})]})})}function Ae(){const e=pe(),{list:a,save:t,update:n,remove:i}=(0,he.A)(),[l,r]=(0,s.useState)(!1),[o,d]=(0,s.useState)(!1),[m,u]=(0,s.useState)([]),[p,g]=(0,s.useState)({title:"",description:"",video:""});(0,s.useEffect)(()=>{!async function(){await x()}()},[]);const x=async()=>{d(!0);try{const e=await a();u(e)}catch(e){E.oR.error(G.R.t("settings.helps.toasts.errorList"))}d(!1)},f=()=>{g({title:"",description:"",video:""})};return(0,h.jsxs)(c.A,{className:e.mainPaper,elevation:0,children:[(0,h.jsxs)(A.A,{spacing:2,container:!0,children:[(0,h.jsx)(A.A,{xs:12,item:!0,children:(0,h.jsx)(ge,{initialValue:p,onDelete:()=>{r(!0)},onSubmit:async e=>{d(!0);try{void 0!==e.id?await n(e):await t(e),await x(),f(),E.oR.success(G.R.t("settings.helps.toasts.success"))}catch(a){E.oR.error(G.R.t("settings.helps.toasts.error"))}d(!1)},onCancel:f,loading:o})}),(0,h.jsx)(A.A,{xs:12,item:!0,children:(0,h.jsx)(xe,{records:m,onSelect:e=>{g({id:e.id,title:e.title||"",description:e.description||"",video:e.video||""})}})})]}),(0,h.jsx)(T.A,{title:G.R.t("settings.helps.confirmModal.title"),open:l,onClose:()=>r(!1),onConfirm:()=>(async()=>{d(!0);try{await i(p.id),await x(),f(),E.oR.success(G.R.t("settings.helps.toasts.success"))}catch(e){E.oR.error(G.R.t("settings.helps.toasts.errorOperation"))}d(!1)})(),children:G.R.t("settings.helps.confirmModal.confirm")})]})}var fe=t(87650);const je=()=>({getAll:async e=>{const{data:a}=await H.A.request({url:"/settings",method:"GET",params:e});return a},update:async e=>{const{data:a}=await H.A.request({url:"/settings/".concat(e.key),method:"PUT",data:e});return a}});var ye=t(60643),be=t(95324);const ve=(0,o.A)(e=>({container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},tab:{backgroundColor:e.palette.options,borderRadius:4,width:"100%","& .MuiTab-wrapper":{color:e.palette.fontecor},"& .MuiTabs-flexContainer":{justifyContent:"center"}},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",marginBottom:12,width:"100%"},cardAvatar:{fontSize:"55px",color:ye.A[500],backgroundColor:"#ffffff",width:e.spacing(7),height:e.spacing(7)},cardTitle:{fontSize:"18px",color:be.A[700]},cardSubtitle:{color:ye.A[600],fontSize:"14px"},alignRight:{textAlign:"right"},fullWidth:{width:"100%"},selectContainer:{width:"100%",textAlign:"left"}}));function Re(e){const{settings:a,scheduleTypeChanged:t}=e,n=ve(),[i,l]=(0,s.useState)("disabled"),[r,o]=(0,s.useState)("disabled"),[c,u]=(0,s.useState)("enabled"),[p,g]=(0,s.useState)(""),[x,R]=(0,s.useState)("enabled"),[C,w]=(0,s.useState)(!1),[k,S]=(0,s.useState)(!1),[D,N]=(0,s.useState)(!1),[I,T]=(0,s.useState)(!1),[W,F]=(0,s.useState)(!1),[L,M]=(0,s.useState)(""),[B,P]=(0,s.useState)(!1),[q,z]=(0,s.useState)("disabled"),[Y,V]=(0,s.useState)(!1),[O,H]=(0,s.useState)("disabled"),[K,Q]=(0,s.useState)(!1),[U,X]=(0,s.useState)("disabled"),[$,J]=(0,s.useState)(!1),{update:Z}=je();return(0,s.useEffect)(()=>{if(Array.isArray(a)&&a.length){const e=a.find(e=>"userRating"===e.key);e&&l(e.value);const t=a.find(e=>"scheduleType"===e.key);t&&o(t.value);const n=a.find(e=>"call"===e.key);n&&u(n.value);const s=a.find(e=>"CheckMsgIsGroup"===e.key);s&&R(s.value);const i=a.find(e=>"sendGreetingAccepted"===e.key);i&&z(i.value);const r=a.find(e=>"sendMsgTransfTicket"===e.key);r&&H(r.value);const c=a.find(e=>"sendGreetingMessageOneQueues"===e.key);c&&X(c.value);const d=a.find(e=>"chatBotType"===e.key);d&&g(d.value);const m=a.find(e=>"asaas"===e.key);m&&M(m.value)}},[a]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(A.A,{spacing:3,container:!0,children:[(0,h.jsx)(A.A,{xs:12,sm:6,md:4,item:!0,children:(0,h.jsxs)(j.A,{className:n.selectContainer,children:[(0,h.jsx)(y.A,{id:"ratings-label",children:G.R.t("settings.options.fields.ratings.title")}),(0,h.jsxs)(b.A,{labelId:"ratings-label",value:i,onChange:async e=>{!async function(e){l(e),w(!0),await Z({key:"userRating",value:e}),E.oR.success(G.R.t("settings.options.toasts.success")),w(!1)}(e.target.value)},children:[(0,h.jsx)(v.A,{value:"disabled",children:G.R.t("settings.options.fields.ratings.disabled")}),(0,h.jsx)(v.A,{value:"enabled",children:G.R.t("settings.options.fields.ratings.enabled")})]}),(0,h.jsx)(fe.A,{children:C&&G.R.t("settings.options.updating")})]})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:4,item:!0,children:(0,h.jsxs)(j.A,{className:n.selectContainer,children:[(0,h.jsx)(y.A,{id:"schedule-type-label",children:G.R.t("settings.options.fields.expedientManager.title")}),(0,h.jsxs)(b.A,{labelId:"schedule-type-label",value:r,onChange:async e=>{!async function(e){o(e),S(!0),await Z({key:"scheduleType",value:e}),E.oR.success(G.R.t("settings.options.toasts.success"),{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,theme:"light"}),S(!1),"function"===typeof t&&t(e)}(e.target.value)},children:[(0,h.jsx)(v.A,{value:"disabled",children:G.R.t("settings.options.fields.disabled")}),(0,h.jsx)(v.A,{value:"queue",children:G.R.t("settings.options.fields.expedientManager.queue")}),(0,h.jsx)(v.A,{value:"company",children:G.R.t("settings.options.fields.expedientManager.company")})]}),(0,h.jsx)(fe.A,{children:k&&G.R.t("settings.options.updating")})]})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:4,item:!0,children:(0,h.jsxs)(j.A,{className:n.selectContainer,children:[(0,h.jsx)(y.A,{id:"group-type-label",children:G.R.t("settings.options.fields.ignoreMessages.title")}),(0,h.jsxs)(b.A,{labelId:"group-type-label",value:x,onChange:async e=>{!async function(e){R(e),F(!0),await Z({key:"CheckMsgIsGroup",value:e}),E.oR.success(G.R.t("settings.options.toasts.success")),R(!1)}(e.target.value)},children:[(0,h.jsx)(v.A,{value:"disabled",children:G.R.t("settings.options.fields.disabled")}),(0,h.jsx)(v.A,{value:"enabled",children:G.R.t("settings.options.fields.active")})]}),(0,h.jsx)(fe.A,{children:k&&G.R.t("settings.options.updating")})]})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:4,item:!0,children:(0,h.jsxs)(j.A,{className:n.selectContainer,children:[(0,h.jsx)(y.A,{id:"call-type-label",children:G.R.t("settings.options.fields.acceptCall.title")}),(0,h.jsxs)(b.A,{labelId:"call-type-label",value:c,onChange:async e=>{!async function(e){u(e),N(!0),await Z({key:"call",value:e}),E.oR.success(G.R.t("settings.options.toasts.success")),N(!1)}(e.target.value)},children:[(0,h.jsx)(v.A,{value:"disabled",children:G.R.t("settings.options.fields.acceptCall.disabled")}),(0,h.jsx)(v.A,{value:"enabled",children:G.R.t("settings.options.fields.acceptCall.enabled")})]}),(0,h.jsx)(fe.A,{children:D&&G.R.t("settings.options.updating")})]})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:4,item:!0,children:(0,h.jsxs)(j.A,{className:n.selectContainer,children:[(0,h.jsx)(y.A,{id:"chatbot-type-label",children:G.R.t("settings.options.fields.chatbotType.title")}),(0,h.jsx)(b.A,{labelId:"chatbot-type-label",value:p,onChange:async e=>{!async function(e){g(e),T(!0),await Z({key:"chatBotType",value:e}),E.oR.success(G.R.t("settings.options.toasts.success")),T(!1)}(e.target.value)},children:(0,h.jsx)(v.A,{value:"text",children:G.R.t("settings.options.fields.chatbotType.text")})}),(0,h.jsx)(fe.A,{children:I&&G.R.t("settings.options.updating")})]})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:4,item:!0,children:(0,h.jsxs)(j.A,{className:n.selectContainer,children:[(0,h.jsx)(y.A,{id:"sendGreetingAccepted-label",children:G.R.t("settings.options.fields.sendGreetingAccepted.title")}),(0,h.jsxs)(b.A,{labelId:"sendGreetingAccepted-label",value:q,onChange:async e=>{!async function(e){z(e),V(!0),await Z({key:"sendGreetingAccepted",value:e}),E.oR.success(G.R.t("settings.options.toasts.success")),V(!1)}(e.target.value)},children:[(0,h.jsx)(v.A,{value:"disabled",children:G.R.t("settings.options.fields.disabled")}),(0,h.jsx)(v.A,{value:"enabled",children:G.R.t("settings.options.fields.enabled")})]}),(0,h.jsx)(fe.A,{children:Y&&G.R.t("settings.options.updating")})]})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:4,item:!0,children:(0,h.jsxs)(j.A,{className:n.selectContainer,children:[(0,h.jsx)(y.A,{id:"sendMsgTransfTicket-label",children:G.R.t("settings.options.fields.sendMsgTransfTicket.title")}),(0,h.jsxs)(b.A,{labelId:"sendMsgTransfTicket-label",value:O,onChange:async e=>{!async function(e){H(e),Q(!0),await Z({key:"sendMsgTransfTicket",value:e}),E.oR.success(G.R.t("settings.options.toasts.success")),Q(!1)}(e.target.value)},children:[(0,h.jsx)(v.A,{value:"disabled",children:G.R.t("settings.options.fields.disabled")}),(0,h.jsx)(v.A,{value:"enabled",children:G.R.t("settings.options.fields.enabled")})]}),(0,h.jsx)(fe.A,{children:K&&G.R.t("settings.options.updating")})]})}),(0,h.jsx)(A.A,{xs:12,sm:6,md:4,item:!0,children:(0,h.jsxs)(j.A,{className:n.selectContainer,children:[(0,h.jsx)(y.A,{id:"sendGreetingMessageOneQueues-label",children:G.R.t("settings.options.fields.sendGreetingMessageOneQueues.title")}),(0,h.jsxs)(b.A,{labelId:"sendGreetingMessageOneQueues-label",value:U,onChange:async e=>{!async function(e){X(e),J(!0),await Z({key:"sendGreetingMessageOneQueues",value:e}),E.oR.success(G.R.t("settings.options.toasts.success")),J(!1)}(e.target.value)},children:[(0,h.jsx)(v.A,{value:"disabled",children:G.R.t("settings.options.fields.disabled")}),(0,h.jsx)(v.A,{value:"enabled",children:G.R.t("settings.options.fields.enabled")})]}),(0,h.jsx)(fe.A,{children:$&&G.R.t("settings.options.updating")})]})})]}),(0,h.jsx)(A.A,{spacing:3,container:!0,children:(0,h.jsx)(d.A,{value:0,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:n.tab,style:{marginBottom:20,marginTop:20},children:(0,h.jsx)(m.A,{label:G.R.t("settings.options.tabs.integrations")})})}),(0,h.jsxs)(A.A,{spacing:3,container:!0,style:{marginBottom:10},children:[(0,h.jsx)(d.A,{value:0,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",className:n.tab,children:(0,h.jsx)(m.A,{label:"ASAAS"})}),(0,h.jsx)(A.A,{xs:12,sm:12,md:12,item:!0,children:(0,h.jsxs)(j.A,{className:n.selectContainer,children:[(0,h.jsx)(f.A,{id:"asaas",name:"asaas",margin:"dense",label:"Token Asaas",variant:"outlined",value:L,onChange:async e=>{!async function(e){M(e),P(!0),await Z({key:"asaas",value:e}),E.oR.success(G.R.t("settings.options.toasts.success")),P(!1)}(e.target.value)}}),(0,h.jsx)(fe.A,{children:B&&G.R.t("settings.options.updating")})]})})]})]})}var Ce=t(95888),we=t(58168),ke=t(2803),Se=t(64620),De=["video","audio","picture","iframe","img"],Ne=s.forwardRef(function(e,a){var t=e.children,n=e.classes,i=e.className,l=e.component,r=void 0===l?"div":l,o=e.image,c=e.src,d=e.style,m=(0,u.A)(e,["children","classes","className","component","image","src","style"]),h=-1!==De.indexOf(r),p=!h&&o?(0,we.A)({backgroundImage:'url("'.concat(o,'")')},d):d;return s.createElement(r,(0,we.A)({className:(0,ke.A)(n.root,i,h&&n.media,-1!=="picture img".indexOf(r)&&n.img),ref:a,style:p,src:h?o||c:void 0},m),t)});const Ie=(0,Se.A)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(Ne);var Te=t(93363),We=t(39886),Ee=t(55510),Fe=t(32776);const Le=(0,Fe.A)(s.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),Me=(0,Fe.A)(s.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image"),Be=(0,Fe.A)(s.createElement(s.Fragment,null,s.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),s.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"PhotoCamera"),Pe=(0,Fe.A)(s.createElement("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"Palette"),qe=(0,Fe.A)(s.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save"),ze=()=>{const[e,a]=(0,s.useState)(!1),[t,i]=(0,s.useState)(null);(0,s.useEffect)(()=>{l()},[]);const l=async()=>{a(!0);try{const{data:e}=await H.A.get("/whitelabel");i(e)}catch(e){i(null)}finally{a(!1)}};return{whitelabel:t,loading:e,fetchWhitelabel:l,createWhitelabel:async e=>{a(!0);try{const a=await H.A.post("/whitelabel",e);return i(a.data),E.oR.success("WhiteLabel criado com sucesso!"),a.data}catch(s){var t,n;throw E.oR.error((null===s||void 0===s||null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Erro ao criar WhiteLabel"),s}finally{a(!1)}},updateWhitelabel:async e=>{a(!0);try{const a=await H.A.put("/whitelabel",e);return i(a.data),E.oR.success("WhiteLabel atualizado com sucesso!"),a.data}catch(s){var t,n;throw E.oR.error((null===s||void 0===s||null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Erro ao atualizar WhiteLabel"),s}finally{a(!1)}},uploadImage:async(e,t)=>{a(!0);try{const a=new FormData;a.append(e,t);const n=await H.A.post("/whitelabel/upload",a,{headers:{"Content-Type":"multipart/form-data"}});return i(n.data.whitelabel),E.oR.success("".concat(e," enviado com sucesso!")),n.data}catch(l){var n,s;throw E.oR.error((null===l||void 0===l||null===(n=l.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.error)||"Erro ao enviar ".concat(e)),l}finally{a(!1)}},deleteImage:async e=>{a(!0);try{await H.A.delete("/whitelabel/image/".concat(e)),i(a=>(0,n.A)((0,n.A)({},a),{},{[e]:null})),E.oR.success("".concat(e," removido com sucesso!"))}catch(l){var t,s;throw E.oR.error((null===l||void 0===l||null===(t=l.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Erro ao remover ".concat(e)),l}finally{a(!1)}}}},Ye=(0,o.A)(e=>({section:{marginBottom:e.spacing(4)},sectionTitle:{display:"flex",alignItems:"center",marginBottom:e.spacing(2),color:e.palette.primary.main,fontWeight:600,"& svg":{marginRight:e.spacing(1)}},imageCard:{border:"2px dashed ".concat(e.palette.divider),borderRadius:e.spacing(2),padding:e.spacing(2),textAlign:"center",position:"relative",minHeight:200,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",backgroundColor:e.palette.background.default,transition:"all 0.3s ease","&:hover":{borderColor:e.palette.primary.main,backgroundColor:e.palette.action.hover}},imagePreview:{maxWidth:"100%",maxHeight:180,objectFit:"contain",borderRadius:e.spacing(1)},uploadButton:{marginTop:e.spacing(2)},deleteButton:{position:"absolute",top:8,right:8,backgroundColor:e.palette.error.main,color:"#FFF","&:hover":{backgroundColor:e.palette.error.dark}},previewBox:{marginTop:e.spacing(3),padding:e.spacing(3),border:"2px solid ".concat(e.palette.divider),borderRadius:e.spacing(2),backgroundColor:e.palette.background.paper},previewTitle:{fontWeight:600,marginBottom:e.spacing(2),color:e.palette.text.primary},previewDemo:{padding:e.spacing(2),borderRadius:e.spacing(1),marginTop:e.spacing(2)},emptyState:{textAlign:"center",color:e.palette.text.secondary,"& svg":{fontSize:48,marginBottom:e.spacing(1),opacity:.5}}})),Ve=M.Ik().shape({companyName:M.Yj().min(2,"Nome muito curto").max(100,"Nome muito longo"),primaryColorLight:M.Yj().matches(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"Cor inv\xe1lida (use formato #HEX)"),primaryColorDark:M.Yj().matches(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"Cor inv\xe1lida (use formato #HEX)")}),Oe=()=>{const e=Ye(),{whitelabel:a,loading:t,fetchWhitelabel:n,createWhitelabel:i,updateWhitelabel:l,uploadImage:r,deleteImage:o}=ze(),[c,d]=(0,s.useState)({companyName:"",primaryColorLight:"#8B5CF6",secondaryColorLight:"#F3F4F6",backgroundColorLight:"#FFFFFF",textColorLight:"#1F2937",primaryColorDark:"#8B5CF6",secondaryColorDark:"#1F2937",backgroundColorDark:"#111827",textColorDark:"#F9FAFB"});(0,s.useEffect)(()=>{a&&d({companyName:a.companyName||"",primaryColorLight:a.primaryColorLight||"#8B5CF6",secondaryColorLight:a.secondaryColorLight||"#F3F4F6",backgroundColorLight:a.backgroundColorLight||"#FFFFFF",textColorLight:a.textColorLight||"#1F2937",primaryColorDark:a.primaryColorDark||"#8B5CF6",secondaryColorDark:a.secondaryColorDark||"#1F2937",backgroundColorDark:a.backgroundColorDark||"#111827",textColorDark:a.textColorDark||"#F9FAFB"})},[a]);const m=a=>{let{field:t,label:n,currentImage:s}=a;return(0,h.jsx)(A.A,{item:!0,xs:12,sm:6,md:4,children:(0,h.jsxs)(Ce.A,{className:e.imageCard,children:[s?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Ie,{component:"img",image:"".concat("http://localhost:8080").concat(s),alt:n,className:e.imagePreview}),(0,h.jsx)(D.A,{className:e.deleteButton,size:"small",onClick:()=>(async e=>{window.confirm("Deseja realmente remover esta imagem?")&&await o(e)})(t),children:(0,h.jsx)(Le,{})})]}):(0,h.jsxs)(Te.A,{className:e.emptyState,children:[(0,h.jsx)(Me,{}),(0,h.jsx)(We.A,{variant:"body2",children:n})]}),(0,h.jsx)("input",{accept:"image/png,image/jpg,image/jpeg,image/svg+xml,image/x-icon",style:{display:"none"},id:"upload-".concat(t),type:"file",onChange:e=>(async(e,a)=>{const t=a.target.files[0];if(!t)return;["image/png","image/jpg","image/jpeg","image/svg+xml","image/x-icon"].includes(t.type)?t.size>5242880?E.oR.error("Arquivo muito grande. M\xe1ximo 5MB"):await r(e,t):E.oR.error("Formato inv\xe1lido. Use PNG, JPG, SVG ou ICO")})(t,e)}),(0,h.jsx)("label",{htmlFor:"upload-".concat(t),children:(0,h.jsx)(P.A,{variant:"contained",color:"primary",component:"span",startIcon:(0,h.jsx)(Be,{}),className:e.uploadButton,size:"small",children:s?"Trocar":"Enviar"})})]})})};return(0,h.jsx)(N.l1,{initialValues:c,enableReinitialize:!0,validationSchema:Ve,onSubmit:async e=>{try{a?await l(e):await i(e)}catch(t){console.error("Error saving whitelabel:",t)}},children:n=>{let{values:s,errors:i,touched:l,handleChange:r,handleBlur:o,isSubmitting:c}=n;return(0,h.jsxs)(N.lV,{children:[(0,h.jsxs)(Te.A,{className:e.section,children:[(0,h.jsxs)(We.A,{variant:"h6",className:e.sectionTitle,children:[(0,h.jsx)(Me,{})," Informa\xe7\xf5es B\xe1sicas"]}),(0,h.jsx)(A.A,{container:!0,spacing:3,children:(0,h.jsx)(A.A,{item:!0,xs:12,children:(0,h.jsx)(f.A,{fullWidth:!0,label:"Nome da Empresa",name:"companyName",value:s.companyName,onChange:r,onBlur:o,error:l.companyName&&Boolean(i.companyName),helperText:l.companyName&&i.companyName,variant:"outlined"})})})]}),(0,h.jsx)(Ee.A,{}),(0,h.jsxs)(Te.A,{className:e.section,children:[(0,h.jsxs)(We.A,{variant:"h6",className:e.sectionTitle,children:[(0,h.jsx)(Me,{})," Imagens e Logos"]}),(0,h.jsxs)(A.A,{container:!0,spacing:3,children:[(0,h.jsx)(m,{field:"logoLight",label:"Logo Modo Claro",currentImage:null===a||void 0===a?void 0:a.logoLight}),(0,h.jsx)(m,{field:"logoDark",label:"Logo Modo Escuro",currentImage:null===a||void 0===a?void 0:a.logoDark}),(0,h.jsx)(m,{field:"favicon",label:"Favicon",currentImage:null===a||void 0===a?void 0:a.favicon}),(0,h.jsx)(m,{field:"loginBanner",label:"Banner de Login",currentImage:null===a||void 0===a?void 0:a.loginBanner}),(0,h.jsx)(m,{field:"loginLogo",label:"Logo de Login",currentImage:null===a||void 0===a?void 0:a.loginLogo})]})]}),(0,h.jsx)(Ee.A,{}),(0,h.jsxs)(Te.A,{className:e.section,children:[(0,h.jsxs)(We.A,{variant:"h6",className:e.sectionTitle,children:[(0,h.jsx)(Pe,{})," Cores - Modo Claro"]}),(0,h.jsxs)(A.A,{container:!0,spacing:3,children:[(0,h.jsx)(A.A,{item:!0,xs:12,sm:6,md:3,children:(0,h.jsx)(f.A,{fullWidth:!0,label:"Cor Prim\xe1ria",name:"primaryColorLight",type:"color",value:s.primaryColorLight,onChange:r,onBlur:o,error:l.primaryColorLight&&Boolean(i.primaryColorLight),helperText:l.primaryColorLight&&i.primaryColorLight,variant:"outlined",InputProps:{startAdornment:(0,h.jsx)(Te.A,{component:"span",mr:1,children:s.primaryColorLight})}})}),(0,h.jsx)(A.A,{item:!0,xs:12,sm:6,md:3,children:(0,h.jsx)(f.A,{fullWidth:!0,label:"Cor Secund\xe1ria",name:"secondaryColorLight",type:"color",value:s.secondaryColorLight,onChange:r,variant:"outlined",InputProps:{startAdornment:(0,h.jsx)(Te.A,{component:"span",mr:1,children:s.secondaryColorLight})}})}),(0,h.jsx)(A.A,{item:!0,xs:12,sm:6,md:3,children:(0,h.jsx)(f.A,{fullWidth:!0,label:"Cor de Fundo",name:"backgroundColorLight",type:"color",value:s.backgroundColorLight,onChange:r,variant:"outlined",InputProps:{startAdornment:(0,h.jsx)(Te.A,{component:"span",mr:1,children:s.backgroundColorLight})}})}),(0,h.jsx)(A.A,{item:!0,xs:12,sm:6,md:3,children:(0,h.jsx)(f.A,{fullWidth:!0,label:"Cor do Texto",name:"textColorLight",type:"color",value:s.textColorLight,onChange:r,variant:"outlined",InputProps:{startAdornment:(0,h.jsx)(Te.A,{component:"span",mr:1,children:s.textColorLight})}})})]})]}),(0,h.jsx)(Ee.A,{}),(0,h.jsxs)(Te.A,{className:e.section,children:[(0,h.jsxs)(We.A,{variant:"h6",className:e.sectionTitle,children:[(0,h.jsx)(Pe,{})," Cores - Modo Escuro"]}),(0,h.jsxs)(A.A,{container:!0,spacing:3,children:[(0,h.jsx)(A.A,{item:!0,xs:12,sm:6,md:3,children:(0,h.jsx)(f.A,{fullWidth:!0,label:"Cor Prim\xe1ria",name:"primaryColorDark",type:"color",value:s.primaryColorDark,onChange:r,onBlur:o,error:l.primaryColorDark&&Boolean(i.primaryColorDark),helperText:l.primaryColorDark&&i.primaryColorDark,variant:"outlined",InputProps:{startAdornment:(0,h.jsx)(Te.A,{component:"span",mr:1,children:s.primaryColorDark})}})}),(0,h.jsx)(A.A,{item:!0,xs:12,sm:6,md:3,children:(0,h.jsx)(f.A,{fullWidth:!0,label:"Cor Secund\xe1ria",name:"secondaryColorDark",type:"color",value:s.secondaryColorDark,onChange:r,variant:"outlined",InputProps:{startAdornment:(0,h.jsx)(Te.A,{component:"span",mr:1,children:s.secondaryColorDark})}})}),(0,h.jsx)(A.A,{item:!0,xs:12,sm:6,md:3,children:(0,h.jsx)(f.A,{fullWidth:!0,label:"Cor de Fundo",name:"backgroundColorDark",type:"color",value:s.backgroundColorDark,onChange:r,variant:"outlined",InputProps:{startAdornment:(0,h.jsx)(Te.A,{component:"span",mr:1,children:s.backgroundColorDark})}})}),(0,h.jsx)(A.A,{item:!0,xs:12,sm:6,md:3,children:(0,h.jsx)(f.A,{fullWidth:!0,label:"Cor do Texto",name:"textColorDark",type:"color",value:s.textColorDark,onChange:r,variant:"outlined",InputProps:{startAdornment:(0,h.jsx)(Te.A,{component:"span",mr:1,children:s.textColorDark})}})})]})]}),(0,h.jsx)(Ee.A,{}),(0,h.jsxs)(Te.A,{className:e.previewBox,children:[(0,h.jsx)(We.A,{variant:"h6",className:e.previewTitle,children:"\ud83d\udc41\ufe0f Preview - Modo Claro"}),(0,h.jsxs)(Te.A,{className:e.previewDemo,style:{backgroundColor:s.backgroundColorLight,border:"2px solid ".concat(s.secondaryColorLight)},children:[(0,h.jsx)(We.A,{variant:"h5",style:{color:s.textColorLight,marginBottom:16},children:s.companyName||"Nome da Empresa"}),(0,h.jsx)(P.A,{variant:"contained",style:{backgroundColor:s.primaryColorLight,color:"#FFF"},children:"Bot\xe3o Prim\xe1rio"})]}),(0,h.jsx)(We.A,{variant:"h6",className:e.previewTitle,style:{marginTop:24},children:"\ud83d\udc41\ufe0f Preview - Modo Escuro"}),(0,h.jsxs)(Te.A,{className:e.previewDemo,style:{backgroundColor:s.backgroundColorDark,border:"2px solid ".concat(s.secondaryColorDark)},children:[(0,h.jsx)(We.A,{variant:"h5",style:{color:s.textColorDark,marginBottom:16},children:s.companyName||"Nome da Empresa"}),(0,h.jsx)(P.A,{variant:"contained",style:{backgroundColor:s.primaryColorDark,color:"#FFF"},children:"Bot\xe3o Prim\xe1rio"})]})]}),(0,h.jsx)(Te.A,{mt:3,display:"flex",justifyContent:"flex-end",children:(0,h.jsx)(I.A,{type:"submit",variant:"contained",color:"primary",size:"large",loading:c||t,startIcon:(0,h.jsx)(qe,{}),children:"Salvar Configura\xe7\xf5es"})})]})}})};var Ge=t(3669);const He=e=>{let{user:a,yes:t,no:n}=e;return a.super?t():n()};He.defaultProps={user:{},yes:()=>null,no:()=>null};const Ke=He,Qe=e=>{let{user:a,yes:t,no:n}=e;const s=null===a||void 0===a?void 0:a.companyId;return 1===s||"1"===s?t():n()};Qe.defaultProps={user:{},yes:()=>null,no:()=>null};const Ue=Qe,Xe=(0,o.A)(e=>({root:{flex:1,backgroundColor:e.palette.background.paper},mainPaper:(0,n.A)((0,n.A)({},e.scrollbarStyles),{},{overflowY:"scroll",flex:1}),tab:{backgroundColor:e.palette.options,borderRadius:4},paper:(0,n.A)((0,n.A)({},e.scrollbarStyles),{},{overflowY:"scroll",padding:e.spacing(2),display:"flex",alignItems:"center",width:"100%"}),container:{width:"100%",maxHeight:"100%"},control:{padding:e.spacing(1)},textfield:{width:"100%"}})),$e=()=>{const e=Xe(),[a,t]=(0,s.useState)("options"),[n,o]=(0,s.useState)([]),[u,p]=(0,s.useState)({}),[A,f]=(0,s.useState)(!1),[j,y]=(0,s.useState)({}),[b,v]=(0,s.useState)({}),[R,C]=(0,s.useState)(!1),{getCurrentUserInfo:w}=(0,Ge.A)(),{find:k,updateSchedules:S}=(0,F.A)(),{getAll:D}=je();(0,s.useEffect)(()=>{!async function(){f(!0);try{const a=localStorage.getItem("userId"),t=localStorage.getItem("companyId"),n=localStorage.getItem("profile"),s={id:parseInt(a),companyId:parseInt(t),profile:n,super:"admin"===n&&"1"===t};y(s);const i=await k(t),l=await D();if(p(i),o(i.schedules),v(l),Array.isArray(l)){const e=l.find(e=>"scheduleType"===e.key);e&&C("company"===e.value)}try{const e=await w();y(e)}catch(e){}}catch(e){E.oR.error(e)}f(!1)}()},[]);const N=()=>j&&!0===j.super;return(0,h.jsxs)(i.A,{className:e.root,children:[(0,h.jsx)(l.A,{children:(0,h.jsx)(r.A,{children:G.R.t("settings.title")})}),(0,h.jsxs)(c.A,{className:e.mainPaper,elevation:1,children:[(0,h.jsxs)(d.A,{value:a,indicatorColor:"primary",textColor:"primary",scrollButtons:"on",variant:"scrollable",onChange:(e,a)=>{!async function(){f(!0);try{const e=localStorage.getItem("companyId"),a=await k(e),t=await D();if(p(a),o(a.schedules),v(t),Array.isArray(t)){const e=t.find(e=>"scheduleType"===e.key);e&&C("company"===e.value)}const n=await w();y(n)}catch(e){E.oR.error(e)}f(!1)}(),t(a)},className:e.tab,children:[(0,h.jsx)(m.A,{label:G.R.t("settings.tabs.options"),value:"options"}),R&&(0,h.jsx)(m.A,{label:G.R.t("settings.tabs.schedules"),value:"schedules"}),N()?(0,h.jsx)(m.A,{label:G.R.t("settings.tabs.companies"),value:"companies"}):null,N()?(0,h.jsx)(m.A,{label:G.R.t("settings.tabs.plans"),value:"plans"}):null,N()?(0,h.jsx)(m.A,{label:G.R.t("settings.tabs.helps"),value:"helps"}):null,!j||1!==j.companyId&&"1"!==j.companyId?null:(0,h.jsx)(m.A,{label:"WhiteLabel",value:"whitelabel"})]}),(0,h.jsxs)(c.A,{className:e.paper,elevation:0,children:[(0,h.jsx)(g,{className:e.container,value:a,name:"schedules",children:(0,h.jsx)(x.A,{loading:A,onSubmit:async e=>{f(!0);try{o(e),await S({id:u.id,schedules:e}),E.oR.success(G.R.t("settings.schedulesUpdated"))}catch(a){E.oR.error(a)}f(!1)},initialValues:n})}),(0,h.jsx)(Ke,{user:j,yes:()=>(0,h.jsx)(g,{className:e.container,value:a,name:"companies",children:(0,h.jsx)(oe,{})})}),(0,h.jsx)(Ke,{user:j,yes:()=>(0,h.jsx)(g,{className:e.container,value:a,name:"plans",children:(0,h.jsx)(ue,{})})}),(0,h.jsx)(Ke,{user:j,yes:()=>(0,h.jsx)(g,{className:e.container,value:a,name:"helps",children:(0,h.jsx)(Ae,{})})}),(0,h.jsx)(g,{className:e.container,value:a,name:"options",children:(0,h.jsx)(Re,{settings:b,scheduleTypeChanged:e=>C("company"===e)})}),(0,h.jsx)(Ue,{user:j,yes:()=>(0,h.jsx)(g,{className:e.container,value:a,name:"whitelabel",children:(0,h.jsx)(Oe,{})})})]})]})]})}},86281:(e,a,t)=>{t.d(a,{A:()=>x});var n=t(89379),s=t(9950),i=t(32988),l=t(54742),r=t(32018),o=t(69994),c=t(6443),d=t(41397),m=t(63184),u=t(39456),h=t(33906),p=t(44414);const g=(0,o.A)(e=>({root:{width:"100%"},fullWidth:{width:"100%"},textfield:{width:"100%"},row:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},control:{paddingRight:e.spacing(1),paddingLeft:e.spacing(1)},buttonContainer:{textAlign:"right",padding:e.spacing(1)}}));const x=function(e){const{initialValues:a,onSubmit:t,loading:o,labelSaveButton:x}=e,A=g(),[f,j]=(0,s.useState)([{weekday:"Segunda-feira",weekdayEn:"monday",startTime:"",endTime:""},{weekday:"Ter\xe7a-feira",weekdayEn:"tuesday",startTime:"",endTime:""},{weekday:"Quarta-feira",weekdayEn:"wednesday",startTime:"",endTime:""},{weekday:"Quinta-feira",weekdayEn:"thursday",startTime:"",endTime:""},{weekday:"Sexta-feira",weekdayEn:"friday",startTime:"",endTime:""},{weekday:"S\xe1bado",weekdayEn:"saturday",startTime:"",endTime:""},{weekday:"Domingo",weekdayEn:"sunday",startTime:"",endTime:""}]);return(0,s.useEffect)(()=>{(0,d.isArray)(a)&&a.length>0&&j(a)},[a]),(0,p.jsx)(c.l1,{enableReinitialize:!0,className:A.fullWidth,initialValues:{schedules:f},onSubmit:e=>{let{schedules:a}=e;return setTimeout(()=>{t(a)},500)},children:e=>{let{values:a}=e;return(0,p.jsxs)(c.lV,{className:A.fullWidth,children:[(0,p.jsx)(c.ED,{name:"schedules",render:e=>(0,p.jsx)(i.A,{spacing:4,container:!0,children:a.schedules.map((e,a)=>(0,p.jsxs)(l.A,{children:[(0,p.jsx)(c.B0,{as:r.A,label:h.R.t("settings.schedules.form.weekday"),name:"schedules[".concat(a,"].weekday"),disabled:!0,variant:"outlined",style:{marginRight:"3.2%",width:"30%"},margin:"dense"}),(0,p.jsx)(c.B0,{name:"schedules[".concat(a,"].startTime"),children:e=>{let{field:a}=e;return(0,p.jsx)(m.A,(0,n.A)((0,n.A)({label:h.R.t("settings.schedules.form.initialHour")},a),{},{variant:"outlined",margin:"dense",customInput:r.A,format:"##:##",style:{marginRight:"3.2%",width:"30%"}}))}}),(0,p.jsx)(c.B0,{name:"schedules[".concat(a,"].endTime"),children:e=>{let{field:a}=e;return(0,p.jsx)(m.A,(0,n.A)((0,n.A)({label:h.R.t("settings.schedules.form.finalHour")},a),{},{variant:"outlined",margin:"dense",customInput:r.A,format:"##:##",style:{marginRight:"3.2%",width:"30%"}}))}})]}))})}),(0,p.jsx)("div",{style:{textAlign:"center",marginTop:"2%"},className:A.buttonContainer,children:(0,p.jsx)(u.A,{loading:o,type:"submit",color:"primary",variant:"contained",children:null!==x&&void 0!==x?x:h.R.t("settings.schedules.form.save")})})]})}})}},86505:(e,a,t)=>{t.d(a,{A:()=>r});t(9950);var n=t(69994),s=t(54742),i=t(44414);const l=(0,n.A)(e=>({mainContainer:{flex:1,padding:e.spacing(2),height:"calc(100% - 48px)"},contentWrapper:{height:"100%",overflowY:"hidden",display:"flex",flexDirection:"column"}})),r=e=>{let{children:a}=e;const t=l();return(0,i.jsx)(s.A,{className:t.mainContainer,children:(0,i.jsx)("div",{className:t.contentWrapper,children:a})})}}}]);